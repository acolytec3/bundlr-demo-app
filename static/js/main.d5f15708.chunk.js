(this["webpackJsonpBundler Signer Demo App"]=this["webpackJsonpBundler Signer Demo App"]||[]).push([[0],{229:function(e,t,n){"use strict";(function(e){var c=n(0),a=n.n(c),i=n(93),o=n(133),r=n(134),s=n(230),l=n(23),d=n(51),u=n(33),h=n(130),j=n(35),b=n(98),f=n(11);const g=new o.a({supportedChainIds:[1,137]}),p=new r.a({rpc:{137:"https://polygon-rpc.com"}});t.a=function(){var t;const n=Object(i.b)(),c=n.library,[m,v]=a.a.useState(),[C,O]=a.a.useState(),[x,w]=a.a.useState(),[y,B]=a.a.useState(),[k,S]=a.a.useState(),[A,F]=a.a.useState(),I=Object(h.a)(),M=async e=>{if(n.active)return n.deactivate(),v(void 0),O(void 0),w(void 0),void B(void 0);try{await n.activate(e)}catch(t){console.log(t)}},D=async t=>{let n=t.target.files,c=new FileReader;n&&n.length>0&&(c.onload=function(){c.result&&O(e.from(c.result))},c.readAsArrayBuffer(n[0]))};return Object(f.jsxs)(j.c,{mt:10,children:[Object(f.jsxs)(j.a,{children:[" ",Object(f.jsxs)(u.a,{onClick:()=>M(g),children:[n.connector instanceof o.a&&n.active?"Disconnect":"Connect"," ","Metamask"]}),Object(f.jsxs)(u.a,{onClick:()=>M(p),children:[n.connector instanceof r.a&&n.active?"Disconnect":"Connect"," ","WalletConnect"]})]}),Object(f.jsxs)(j.b,{children:["Connected Account: ",null!==(t=n.account)&&void 0!==t?t:"None"]}),Object(f.jsxs)(j.a,{children:[Object(f.jsx)(u.a,{w:400,disabled:!n.active,onClick:async()=>{if(137!==n.chainId&&await c.send("wallet_switchEthereumChain",[{chainId:"0x89"}]),!k)return;const e=new s.BundlrBrowserClient(k,n.library);try{await e.getPrice(1)}catch{return void console.log("invalid bundlr node")}try{await e.connect()}catch(t){console.log(t)}e.signer.publicKey||console.log("something went wrong"),B(e)},children:"Connect to Bundlr Network"}),Object(f.jsx)(b.a,{value:k,onChange:e=>{S(e.target.value)},placeholder:"Bundler Address"})]}),y&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(j.a,{children:[Object(f.jsx)(u.a,{onClick:()=>{n.account&&y.getBundlrBalance(n.account).then((e=>v(e)))},children:"Get Matic Balance"}),m&&Object(f.jsxs)(j.b,{children:["Matic Balance: ",d.ethers.utils.formatEther(m)]})]}),Object(f.jsxs)(j.a,{children:[Object(f.jsx)(u.a,{onClick:async()=>{if(y){const e=y.fundMatic(l.a.from(A).mul(l.a.from(10)).pow(l.a.from(18)));console.log(e)}},children:"Fund Bundlr"}),Object(f.jsx)(b.a,{placeholder:"MATIC Amount",value:A,onChange:e=>{F(e.target.value)}})]})]}),Object(f.jsx)(u.a,{onClick:()=>{var e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",document.body.appendChild(e),e.addEventListener("input",(function(t){D(t),document.body.removeChild(e)})),e.click()},children:"Select file from Device"}),C&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(j.a,{children:[Object(f.jsx)(u.a,{onClick:async()=>{if(C){const e=await y.getPrice(C.length);w(e)}},children:"Get Price"}),x&&Object(f.jsxs)(j.b,{children:["MATIC Cost: ",d.ethers.utils.formatEther(x)]})]}),Object(f.jsx)(u.a,{onClick:async()=>{if(C){const e=await y.uploadItem(C,[{name:"Content-Type",value:"image/png"}]);console.log(e),I({status:200===e.status?"success":"error",description:e.data,duration:5e3})}},children:"Upload to Bundlr Network"})]})]})}}).call(this,n(8).Buffer)},274:function(e,t){},281:function(e,t){},333:function(e,t){},335:function(e,t){},346:function(e,t){},348:function(e,t){},373:function(e,t){},374:function(e,t){},380:function(e,t){},382:function(e,t){},394:function(e,t){},476:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(41),o=n.n(i),r=n(229);var s=e=>{e&&e instanceof Function&&n.e(4).then(n.bind(null,561)).then((t=>{let{getCLS:n,getFID:c,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),c(e),a(e),i(e),o(e)}))},l=n(93),d=n(51),u=n(131),h=n(47),j=n(11);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(l.a,{getLibrary:function(e,t){return new d.ethers.providers.Web3Provider(e)},children:Object(j.jsx)(u.a,{theme:h.c,children:Object(j.jsx)(r.a,{})})})}),document.getElementById("root")),s()}},[[476,1,2]]]);
//# sourceMappingURL=main.d5f15708.chunk.js.map